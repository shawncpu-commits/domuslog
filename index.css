@import "tailwindcss";

/* 1. CONFIGURAZIONE TEMA E VARIABILI */
@theme {
  --color-dark-surface: #1c1c1e;
  
  /* Palette Pastello Originale */
  --color-pastel-indigo-50: #f5f7ff;
  --color-pastel-indigo-500: #818cf8;
  --color-pastel-indigo-600: #6366f1;
  --color-pastel-rose-50: #fff1f2;
  --color-pastel-rose-500: #fb7185;
  --color-pastel-emerald-50: #ecfdf5;
  --color-pastel-emerald-500: #34d399;
  --color-pastel-amber-50: #fffbeb;
  --color-pastel-amber-500: #fbbf24;

  /* Ombre Personalizzate */
  --shadow-soft: 0 10px 30px -5px rgba(0, 0, 0, 0.04), 0 4px 10px -5px rgba(0, 0, 0, 0.02);
}

/* 2. VARIANTI PERSONALIZZATE (Dark Mode) */
@custom-variant dark (&:where(.dark, .dark *));

:root {
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
}

/* 3. STILI DI BASE */
@layer base {
  body {
    @apply antialiased transition-colors duration-500 bg-white text-slate-900;
    font-family: 'Plus Jakarta Sans', sans-serif;
    text-rendering: optimizeLegibility;
  }

  .dark body {
    @apply bg-slate-950 text-slate-50;
  }
}

/* 4. COMPONENTI INTERFACCIA (M3 & DOCK) */
@layer components {
  .m3-card {
    @apply rounded-[48px] bg-white border-2 border-transparent transition-all duration-300 overflow-hidden;
  }
  .dark .m3-card {
    background-color: var(--color-dark-surface);
    @apply border-white/5;
  }

  .m3-button {
    @apply inline-block rounded-full font-black uppercase text-[11px] tracking-widest px-8 py-5 transition-all duration-300 active:scale-95 text-center cursor-pointer;
  }
.m3-dock {
  position: fixed;
  bottom: 2rem; /* Distanza dal fondo */
  left: 50%;
  transform: translateX(-50%); /* Forza il centraggio perfetto */
  
  /* Stili estetici */
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  padding: 0.75rem 1.5rem;
  
  background-color: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(24px);
  border: 2px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  border-radius: 44px;
  z-index: 50;
  
  /* Evita che la dock si allarghi troppo su schermi grandi */
  width: max-content;
  min-width: 280px;
}

.dark .m3-dock {
  background-color: rgba(28, 28, 30, 0.8);
  border-color: rgba(255, 255, 255, 0.05);
}
  
}

/* 5. LOGICA SCAN AI E UTILITY */
@layer utilities {
  /* Overlay per la scansione AI */
  .scan-overlay {
    @apply fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center;
  }

  .scan-region {
    @apply w-64 h-64 border-2 border-dashed border-pastel-indigo-500 rounded-3xl relative;
    box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
  }

  .ai-status-text {
    @apply mt-6 text-sm font-bold text-white text-center px-6 py-3 rounded-full bg-pastel-indigo-600/40 backdrop-blur-md border border-white/10;
  }

  /* Scrollbar personalizzate */
  .custom-scrollbar::-webkit-scrollbar {
    @apply w-1.5 h-1.5;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply rounded-full bg-indigo-500/10;
  }
  .dark .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-white/5;
  }

  /* Classi Colore Rapide (Fallback) */
  .bg-pastel-indigo-50 { background-color: var(--color-pastel-indigo-50); }
  .bg-pastel-rose-50 { background-color: var(--color-pastel-rose-50); }
  .bg-pastel-emerald-50 { background-color: var(--color-pastel-emerald-50); }
  .bg-pastel-amber-50 { background-color: var(--color-pastel-amber-50); }
}

/* 6. ANIMAZIONI */
@keyframes dock-appear {
  from { transform: translate(-50%, 100px); opacity: 0; }
  to { transform: translate(-50%, 0); opacity: 1; }
}

.dock-appear {
  animation: dock-appear 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}