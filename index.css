@import "tailwindcss";

/* Configurazione specifica per Tailwind v4 */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Ripristiniamo il DarkSurface originale */
  --color-dark-surface: #1c1c1e;
  
  /* Se Tailwind v4 non trova 'slate', lo mappiamo manualmente su gray per compatibilità */
  --color-slate-50: var(--color-gray-50);
  --color-slate-100: var(--color-gray-100);
  --color-slate-900: var(--color-gray-900);
  --color-slate-950: var(--color-gray-950);
}

:root {
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
}

@layer base {
  body {
    /* Usiamo classi che funzionano bene in entrambi i modi */
    @apply antialiased transition-colors duration-500;
    @apply bg-white text-slate-900;
    font-family: 'Plus Jakarta Sans', sans-serif;
  }

  /* Forza i colori quando la classe .dark è attiva */
  .dark body {
    @apply bg-slate-950 text-slate-50;
  }
}

@layer utilities {
  /* Ripristiniamo le tue card M3 che ora useranno la variabile corretta */
  .m3-card {
    @apply rounded-[48px] bg-white border-2 border-transparent transition-all duration-300 overflow-hidden;
  }
  .dark .m3-card {
    @apply bg-dark-surface border-white/5;
  }

  .m3-dock {
    @apply bg-white/80 backdrop-blur-3xl border-2 border-white/20 shadow-2xl rounded-[44px];
  }
  .dark .m3-dock {
    @apply bg-dark-surface/80 border-white/5;
  }

  /* Mantieni qui sotto tutte le tue classi .bg-pastel-XXX che avevi prima... */
}